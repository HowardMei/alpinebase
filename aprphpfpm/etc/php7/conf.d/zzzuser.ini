;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; User specific configurations only for web requests through FPM
;; Use this file to override specific defaults in the stock php.ini
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

expose_php = Off

; Maximum execution time of each script, in seconds
max_execution_time = 30

; Maximum amount of time each script may spend parsing request data. Dev: 60 (seconds) Prod: 60 (seconds)
max_input_time = 60

; Maximum amount of memory a script may consume (128MB)
memory_limit = 128M

; Whether to allow HTTP file uploads.
file_uploads = On

; Maximum allowed size for uploaded files.
upload_max_filesize = 32M

; Maximum number of files that can be uploaded via a single request
max_file_uploads = 10

; Maximum size of POST data that PHP will accept.
post_max_size = 32M

; Automatically add files before PHP document.
auto_prepend_file =

; Automatically add files after PHP document.
auto_append_file =

; The root of the PHP pages, used only if nonempty.
doc_root =

; Correct pathinfo in fastcgi mode
cgi.fix_pathinfo = True

; Directory in which the loadable extensions (modules) reside.
; extension_dir = "./"

; Define the php remote client User-Agent string. 
user_agent="Kube"

; Default timeout for socket based streams (seconds)
default_socket_timeout = 60

[Date]
; Defines the default timezone used by the date functions
date.timezone = "UTC"

[Session]
; Handler used to store/retrieve data. http://php.net/session.save-handler
session.save_handler = files
session.save_path = "/run/php/sessions"

; Name of the session (used as cookie name).
session.name = APPSESSID

; The index name (concatenated with the prefix) in $_SESSION containing the upload progress information
session.upload_progress.name = "APP_SESSION_UPLOAD_PROGRESS"

[opcache]
; Determines if Zend OPCache is enabled
opcache.enable=1

; Tuning from explanations here: https://www.scalingphpbook.com/best-zend-opcache-settings-tuning-config/
opcache.max_accelerated_files=30000
; The OPcache shared memory storage size (Mbytes).
opcache.memory_consumption=128
opcache.max_wasted_percentage=5
opcache.interned_strings_buffer=16
; @see https://bugs.php.net/bug.php?id=65590 (similar problems experienced with Apache/mod_php)
opcache.fast_shutdown=0

; The location of the OPcache blacklist file (wildcards allowed). Each OPcache blacklist file is a text file that holds the names of files
; that should not be accelerated. The file format is to add each filename to a new line. The filename may be a full path or just a file prefix
; (i.e., /var/www/x  blacklists all the files and directories in /var/www that start with 'x'). Line starting with a ; are ignored (comments).
;opcache.blacklist_filename=

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Error handling and logging ;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Common Values: http://php.net/error-reporting
;   E_ALL (Show all errors, warnings and notices including coding standards.)
;   E_ALL & ~E_NOTICE  (Show all errors, except for notices)
;   E_ALL & ~E_NOTICE & ~E_STRICT  (Show all errors, except for notices and coding standards warnings.)
;   E_COMPILE_ERROR|E_RECOVERABLE_ERROR|E_ERROR|E_CORE_ERROR  (Show only errors)
; Default Value: E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED
; Development Value: E_ALL
; Production Value: E_ALL & ~E_DEPRECATED & ~E_STRICT
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT
